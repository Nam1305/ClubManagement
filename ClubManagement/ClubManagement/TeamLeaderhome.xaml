<Window x:Class="ClubManagement.TeamLeaderhome"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Team Leader Home" Height="600" Width="800">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Chọn nhóm và các nút -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
            <Label Content="Select Group:" />
            <ComboBox x:Name="GroupsComboBox" Width="200" DisplayMemberPath="GroupName" SelectionChanged="GroupsComboBox_SelectionChanged" />
            <Button Content="Create Task" Click="CreateTaskButton_Click" Margin="10,0,0,0" />
            <Button Content="Go to Member Page" Click="OpenMemberWindow_Click" HorizontalAlignment="Right" Margin="0,0,10,0" />
        </StackPanel>

        <!-- Form tạo công việc (ẩn mặc định) -->
        <Border x:Name="CreateTaskForm" Grid.Row="0" Background="LightGray" Margin="0,40,0,0" Padding="10" Visibility="Collapsed">
            <StackPanel>
                <TextBlock Text="Create New Task" FontWeight="Bold" Margin="0,0,0,10" />
                <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                    <Label Content="Task Name:" Width="100" />
                    <TextBox x:Name="TaskNameTextBox" Width="200" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                    <Label Content="Description:" Width="100" />
                    <TextBox x:Name="DescriptionTextBox" Width="200" Height="50" AcceptsReturn="True" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                    <Label Content="Due Date:" Width="100" />
                    <DatePicker x:Name="DueDatePicker" Width="200" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="Save" Click="SaveTaskButton_Click" Margin="0,0,10,0" />
                    <Button Content="Cancel" Click="CancelCreateTaskButton_Click" />
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Danh sách thành viên trong nhóm -->
        <GroupBox Grid.Row="1" Header="Group Members" Margin="0,0,0,10">
            <ListView x:Name="MembersListView">
                <ListView.View>
                    <GridView>
                        <GridViewColumn Header="Full Name" DisplayMemberBinding="{Binding FullName}" Width="200" />
                        <GridViewColumn Header="Student Number" DisplayMemberBinding="{Binding StudentNumber}" Width="150" />
                        <GridViewColumn Header="Email" DisplayMemberBinding="{Binding Email}" Width="200" />
                    </GridView>
                </ListView.View>
            </ListView>
        </GroupBox>

        <!-- Danh sách công việc của nhóm -->
        <GroupBox Grid.Row="2" Header="Group Tasks">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <ListView x:Name="TasksListView" Grid.Row="0" Margin="0,0,0,10">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="Task Name" DisplayMemberBinding="{Binding TaskName}" Width="150" />
                            <GridViewColumn Header="Description" DisplayMemberBinding="{Binding Description}" Width="200" />
                            <GridViewColumn Header="Due Date" DisplayMemberBinding="{Binding DueDate}" Width="100" />
                            <GridViewColumn Header="Assigned To" DisplayMemberBinding="{Binding AssignedToNavigation.FullName}" Width="150" />
                            <GridViewColumn Header="Status" Width="100">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <ComboBox SelectedValue="{Binding Status, Mode=TwoWay}" SelectedValuePath="Content" SelectionChanged="TaskStatusComboBox_SelectionChanged" Tag="{Binding TaskId}">
                                            <ComboBoxItem Content="pending" />
                                            <ComboBoxItem Content="in-progress" />
                                            <ComboBoxItem Content="completed" />
                                        </ComboBox>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                            <GridViewColumn Header="Assign Member" Width="150">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <Button Content="Assign" Tag="{Binding TaskId}" Click="AssignMemberButton_Click" />
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                        </GridView>
                    </ListView.View>
                </ListView>

                <!-- Gán thành viên cho công việc -->
                <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
                    <Label Content="Assign Task to:" />
                    <ComboBox x:Name="AssignMemberComboBox" Width="200" DisplayMemberPath="FullName" />
                    <Button Content="Confirm Assign" Click="ConfirmAssignButton_Click" Margin="5,0,0,0" />
                </StackPanel>
            </Grid>
        </GroupBox>
    </Grid>
</Window>